{"ast":null,"code":"export default {\n  name: 'report',\n  data() {\n    return {\n      \"charge_id\": \"\",\n      \"chargeinfo\": {},\n      \"info\": \"\"\n    };\n  },\n  methods: {\n    getParams() {\n      this.charge_id = this.$route.query.stationid;\n      console.log(\"report获取\" + this.charge_id);\n    },\n    goback() {\n      this.$router.replace(\"/admin/index/manage\");\n    }\n  },\n  watch: {\n    $route() {\n      this.getParams();\n    }\n  },\n  mounted() {\n    // console.log(\"创建了\")\n    this.getParams();\n    var token = localStorage.getItem(\"token\");\n    var send_data = {\n      \"token\": token,\n      \"charge_id\": this.charge_id\n    };\n    this.axios({\n      method: 'GET',\n      url: `https://mock.apifox.cn/m1/2726825-0-default/admin/index/report`,\n      // headers:{\n      //   'Content-type': 'application/json; charset=UTF-8'\n      // },\n      data: JSON.stringify(send_data)\n    }).then(response => {\n      console.log(response);\n      if (response.data.code != 0) {\n        //   this.$router.push('/admin/manage')\n        //   localStorage.setItem('token',response.data.data.token)\n        this.chargeinfo = response.data.data;\n      } else {\n        this.info = response.data.msg;\n      }\n    }).catch(error => {\n      alert('report出错了');\n    });\n  },\n  beforeRouteLeave(to, from, next) {\n    next();\n  },\n  beforeRouteEnter(to, from, next) {\n    next(vm => {\n      vm.charge_id = vm.$route.query.stationid;\n      // debugger;\n      // \n      var token = localStorage.getItem(\"token\");\n      var send_data = {\n        \"token\": token,\n        \"charge_id\": vm.charge_id\n      };\n      vm.axios({\n        method: 'GET',\n        url: `https://mock.apifox.cn/m1/2726825-0-default/admin/manage/report`,\n        // headers:{\n        //   'Content-type': 'application/json; charset=UTF-8'\n        // },\n        data: JSON.stringify(send_data)\n      }).then(response => {\n        console.log(response);\n        if (response.data.code != \"0\") {\n          //   this.$router.push('/admin/manage')\n          //   localStorage.setItem('token',response.data.data.token)\n          vm.chargeinfo = response.data.data;\n        } else {\n          vm.info = response.data.msg;\n        }\n      }).catch(error => {\n        alert('report出错了');\n      });\n    });\n  }\n};","map":{"version":3,"names":["name","data","methods","getParams","charge_id","$route","query","stationid","console","log","goback","$router","replace","watch","mounted","token","localStorage","getItem","send_data","axios","method","url","JSON","stringify","then","response","code","chargeinfo","info","msg","catch","error","alert","beforeRouteLeave","to","from","next","beforeRouteEnter","vm"],"sources":["src/components/admin/report.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <button @click=\"goback\">返回登录界面</button>\r\n    <ul>\r\n      <li>充电桩id：{{ chargeinfo.charge_id }}</li>\r\n      <li>截止时间：{{ chargeinfo.time }}</li>\r\n      <li>充电模式：{{ chargeinfo.mode }}</li>\r\n      <li>总充电次数：{{ chargeinfo.total_charge_times }}</li>\r\n      <li>总充电时长：{{ chargeinfo.total_charge_duration }}</li>\r\n      <li>充电总量：{{ chargeinfo.total_charge }}</li>\r\n      <li>充电总费用：{{ chargeinfo.total_charge_fee }}</li>\r\n      <li>总服务费用：{{ chargeinfo.total_charge_service }}</li>\r\n      <li>{{ chargeinfo.total_fee }}</li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'report',\r\n    data(){\r\n        return {\r\n            \"charge_id\":\"\",\r\n            \"chargeinfo\":{},\r\n            \"info\":\"\"\r\n        }\r\n    },\r\n    methods:{\r\n        getParams(){\r\n            this.charge_id = this.$route.query.stationid\r\n            console.log(\"report获取\"+this.charge_id)\r\n        },\r\n        goback(){\r\n          this.$router.replace(\"/admin/index/manage\")\r\n        }\r\n    },\r\n    watch:{\r\n        $route(){\r\n            this.getParams()\r\n        }\r\n    },\r\n    mounted(){\r\n        // console.log(\"创建了\")\r\n        this.getParams()\r\n        var token = localStorage.getItem(\"token\")\r\n        var send_data = {\r\n          \"token\": token,\r\n          \"charge_id\":this.charge_id\r\n        }\r\n        this.axios({\r\n            method:'GET',\r\n            url:`https://mock.apifox.cn/m1/2726825-0-default/admin/index/report`,\r\n            // headers:{\r\n            //   'Content-type': 'application/json; charset=UTF-8'\r\n            // },\r\n            data:JSON.stringify(send_data)\r\n          })\r\n          .then((response)=>{\r\n            console.log(response)\r\n            if(response.data.code != 0){\r\n            //   this.$router.push('/admin/manage')\r\n            //   localStorage.setItem('token',response.data.data.token)\r\n              this.chargeinfo = response.data.data\r\n            }\r\n            else{\r\n              this.info = response.data.msg\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            alert('report出错了')\r\n          })\r\n    },\r\n    beforeRouteLeave(to,from,next){\r\n      next()\r\n    },\r\n    beforeRouteEnter(to,from,next){\r\n      next(vm => {\r\n        vm.charge_id = vm.$route.query.stationid\r\n        // debugger;\r\n        // \r\n        var token = localStorage.getItem(\"token\")\r\n        var send_data = {\r\n          \"token\": token,\r\n          \"charge_id\":vm.charge_id\r\n        }\r\n        vm.axios({\r\n            method:'GET',\r\n            url:`https://mock.apifox.cn/m1/2726825-0-default/admin/manage/report`,\r\n            // headers:{\r\n            //   'Content-type': 'application/json; charset=UTF-8'\r\n            // },\r\n            data:JSON.stringify(send_data)\r\n          })\r\n          .then((response)=>{\r\n            console.log(response)\r\n            if(response.data.code != \"0\"){\r\n            //   this.$router.push('/admin/manage')\r\n            //   localStorage.setItem('token',response.data.data.token)\r\n              vm.chargeinfo = response.data.data\r\n            }\r\n            else{\r\n              vm.info = response.data.msg\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            alert('report出错了')\r\n          })\r\n      })\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"mappings":"AAkBA;EACAA,IAAA;EACAC,KAAA;IACA;MACA;MACA;MACA;IACA;EACA;EACAC,OAAA;IACAC,UAAA;MACA,KAAAC,SAAA,QAAAC,MAAA,CAAAC,KAAA,CAAAC,SAAA;MACAC,OAAA,CAAAC,GAAA,mBAAAL,SAAA;IACA;IACAM,OAAA;MACA,KAAAC,OAAA,CAAAC,OAAA;IACA;EACA;EACAC,KAAA;IACAR,OAAA;MACA,KAAAF,SAAA;IACA;EACA;EACAW,QAAA;IACA;IACA,KAAAX,SAAA;IACA,IAAAY,KAAA,GAAAC,YAAA,CAAAC,OAAA;IACA,IAAAC,SAAA;MACA,SAAAH,KAAA;MACA,kBAAAX;IACA;IACA,KAAAe,KAAA;MACAC,MAAA;MACAC,GAAA;MACA;MACA;MACA;MACApB,IAAA,EAAAqB,IAAA,CAAAC,SAAA,CAAAL,SAAA;IACA,GACAM,IAAA,CAAAC,QAAA;MACAjB,OAAA,CAAAC,GAAA,CAAAgB,QAAA;MACA,IAAAA,QAAA,CAAAxB,IAAA,CAAAyB,IAAA;QACA;QACA;QACA,KAAAC,UAAA,GAAAF,QAAA,CAAAxB,IAAA,CAAAA,IAAA;MACA,OACA;QACA,KAAA2B,IAAA,GAAAH,QAAA,CAAAxB,IAAA,CAAA4B,GAAA;MACA;IACA,GACAC,KAAA,CAAAC,KAAA;MACAC,KAAA;IACA;EACA;EACAC,iBAAAC,EAAA,EAAAC,IAAA,EAAAC,IAAA;IACAA,IAAA;EACA;EACAC,iBAAAH,EAAA,EAAAC,IAAA,EAAAC,IAAA;IACAA,IAAA,CAAAE,EAAA;MACAA,EAAA,CAAAlC,SAAA,GAAAkC,EAAA,CAAAjC,MAAA,CAAAC,KAAA,CAAAC,SAAA;MACA;MACA;MACA,IAAAQ,KAAA,GAAAC,YAAA,CAAAC,OAAA;MACA,IAAAC,SAAA;QACA,SAAAH,KAAA;QACA,aAAAuB,EAAA,CAAAlC;MACA;MACAkC,EAAA,CAAAnB,KAAA;QACAC,MAAA;QACAC,GAAA;QACA;QACA;QACA;QACApB,IAAA,EAAAqB,IAAA,CAAAC,SAAA,CAAAL,SAAA;MACA,GACAM,IAAA,CAAAC,QAAA;QACAjB,OAAA,CAAAC,GAAA,CAAAgB,QAAA;QACA,IAAAA,QAAA,CAAAxB,IAAA,CAAAyB,IAAA;UACA;UACA;UACAY,EAAA,CAAAX,UAAA,GAAAF,QAAA,CAAAxB,IAAA,CAAAA,IAAA;QACA,OACA;UACAqC,EAAA,CAAAV,IAAA,GAAAH,QAAA,CAAAxB,IAAA,CAAA4B,GAAA;QACA;MACA,GACAC,KAAA,CAAAC,KAAA;QACAC,KAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}