{"ast":null,"code":"export default {\n  name: \"order\",\n  data() {\n    return {\n      \"type\": \"\"\n    };\n  },\n  methods: {\n    gettype() {\n      this.type = this.$route.query.type;\n      console.log(this.type);\n    },\n    getall() {\n      var token = localStorage.getItem(\"token\");\n      var send_data = {\n        \"token\": token\n      };\n      this.axios({\n        methods: \"GET\",\n        url: `https://mock.apifox.cn/m1/2726825-0-default/client/index/order`,\n        data: JSON.stringify(send_data)\n      }).then(response => {\n        if (response.code == 0) {\n          return response.data.data.order_array;\n        } else {\n          alert(response.msg);\n        }\n      }).then(error => {});\n    },\n    getcurrent() {}\n  },\n  watch: {\n    $route() {\n      console.log(\"watch\");\n      this.gettype();\n      // 查看当前是否有正在执行的订单\n      if (this.type == 'charge') {\n        var token = localStorage.getItem(\"token\");\n        var send_data = {\n          \"token\": token\n        };\n        this.axios({\n          methods: \"GET\",\n          url: `https://mock.apifox.cn/m1/2726825-0-default/client/index/order`,\n          data: JSON.stringify(send_data)\n        });\n      }\n    }\n  },\n  mounted() {\n    console.log(\"mounted\");\n    this.gettype();\n  }\n};","map":{"version":3,"names":["name","data","methods","gettype","type","$route","query","console","log","getall","token","localStorage","getItem","send_data","axios","url","JSON","stringify","then","response","code","order_array","alert","msg","error","getcurrent","watch","mounted"],"sources":["src/components/client/order.vue"],"sourcesContent":["<template>\r\n    <div v-if=\"type=='charge'\">\r\n        <h1>充电请求</h1>\r\n    </div>\r\n    <div v-else-if=\"type=='current'\">\r\n        <h1>查看当前订单</h1>\r\n    </div>\r\n    <div v-else-if=\"type=='history'\">\r\n        <h1>查看历史订单</h1>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:\"order\",\r\n    data(){\r\n        return{\r\n            \"type\":\"\"\r\n        }\r\n    },\r\n    methods:{\r\n        gettype(){\r\n            this.type = this.$route.query.type\r\n            console.log(this.type)\r\n        },\r\n        getall(){\r\n            var token = localStorage.getItem(\"token\")\r\n            var send_data = {\r\n                \"token\":token\r\n            }\r\n            this.axios({\r\n                methods:\"GET\",\r\n                url:`https://mock.apifox.cn/m1/2726825-0-default/client/index/order`,\r\n                data:JSON.stringify(send_data)\r\n            })\r\n            .then((response)=>{\r\n                if(response.code == 0){\r\n                    return response.data.data.order_array\r\n                }\r\n                else{\r\n                    alert(response.msg)\r\n                }\r\n            })\r\n            .then((error)=>{\r\n\r\n            })\r\n        },\r\n        getcurrent(){\r\n        }\r\n    },\r\n    watch:{\r\n        $route(){\r\n            console.log(\"watch\")\r\n            this.gettype()\r\n            // 查看当前是否有正在执行的订单\r\n            if(this.type == 'charge'){\r\n                var token = localStorage.getItem(\"token\")\r\n                var send_data = {\r\n                    \"token\":token\r\n                }\r\n                this.axios({\r\n                    methods:\"GET\",\r\n                    url:`https://mock.apifox.cn/m1/2726825-0-default/client/index/order`,\r\n                    data:JSON.stringify(send_data)\r\n                })\r\n            }\r\n          }\r\n    },\r\n    mounted(){\r\n        console.log(\"mounted\")\r\n        this.gettype()\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"mappings":"AAcA;EACAA,IAAA;EACAC,KAAA;IACA;MACA;IACA;EACA;EACAC,OAAA;IACAC,QAAA;MACA,KAAAC,IAAA,QAAAC,MAAA,CAAAC,KAAA,CAAAF,IAAA;MACAG,OAAA,CAAAC,GAAA,MAAAJ,IAAA;IACA;IACAK,OAAA;MACA,IAAAC,KAAA,GAAAC,YAAA,CAAAC,OAAA;MACA,IAAAC,SAAA;QACA,SAAAH;MACA;MACA,KAAAI,KAAA;QACAZ,OAAA;QACAa,GAAA;QACAd,IAAA,EAAAe,IAAA,CAAAC,SAAA,CAAAJ,SAAA;MACA,GACAK,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAC,IAAA;UACA,OAAAD,QAAA,CAAAlB,IAAA,CAAAA,IAAA,CAAAoB,WAAA;QACA,OACA;UACAC,KAAA,CAAAH,QAAA,CAAAI,GAAA;QACA;MACA,GACAL,IAAA,CAAAM,KAAA,KAEA;IACA;IACAC,WAAA,GACA;EACA;EACAC,KAAA;IACArB,OAAA;MACAE,OAAA,CAAAC,GAAA;MACA,KAAAL,OAAA;MACA;MACA,SAAAC,IAAA;QACA,IAAAM,KAAA,GAAAC,YAAA,CAAAC,OAAA;QACA,IAAAC,SAAA;UACA,SAAAH;QACA;QACA,KAAAI,KAAA;UACAZ,OAAA;UACAa,GAAA;UACAd,IAAA,EAAAe,IAAA,CAAAC,SAAA,CAAAJ,SAAA;QACA;MACA;IACA;EACA;EACAc,QAAA;IACApB,OAAA,CAAAC,GAAA;IACA,KAAAL,OAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}